\section{ТЕОРЕТИЧЕСКИЕ СВЕДЕНИЯ}

\subsection{Набор регистров}

В программах на языке ассемблер регистры микропроцессора используются очень интенсивно.
Основные программно-доступные регистры изображены на рисунке~\ref{fig:registers}.

\begin{figure}[htbp]
  \centering
  \includegraphics[width=150mm]{pic/registers}
  \caption{Основные регистры 32-разрядных процессоров}\label{fig:registers}
\end{figure}

\textbf{Регистры общего назначения} без каких-либо ограничений могут использоваться
для хранения операндов логических и арифметических операций, компонентов адреса, указателей
на ячейки памяти, однако, каждый из них имеет определенное функциональное назначение:

\begin{itemize}
  \item EAX/AX/AH/AL (Accumulator register) --- аккумулятор --- применяется для хранения
    промежуточных данных, а также адресов;
  \item EBX/BX/BH/BL (Base register) --- базовый регистр --- применяется для хранения
    промежуточных данных, а также для хранения базового адреса объектов в памяти;
  \item ECX/CX/CH/CL (Count register) --- регистр-счетчик --- применяется для хранения
    промежуточных данных, а также в циклических командах, производящих некоторые
    повторяющиеся действия, в качестве счетчика итераций;
  \item EDX/DX/DH/DL (Data register) --- регистр данных --- так же, как и регистр EAX/AX/AH/AL, он
    используется для хранения промежуточных данных.
\end{itemize}

\textbf{Сегментные регистры} предназначены для аппаратной поддержки структурной
организации программы в виде отдельных частей, называемых сегментами.
Сегмент представляет собой независимый блок памяти фиксированного размера.
Операционная система размещает сегменты программы в оперативной памяти,
после чего помещает их адреса в соответствующие сегментные регистры.

Микропроцессор поддерживает следующие типы сегментов:

\begin{itemize}
  \item сегмент кода --- содержит машинные команды, для доступа к нем у служит регистр CS
    (Code Segment register) --- сегментный регистр кода;
  \item сегмент стека --- для доступа к нему служит регистр SS (Stack Segment register) ---
    сегментный регистр стека;
  \item сегмент данных --- содержит обрабатываемые программой данные, для доступа к нему
    служит регистр DS (Data Segment register) --- сегментный регистр данных;
  \item
    дополнительные сегменты данных --- их адреса должны содержаться в регистрах ES, GS, FS.
\end{itemize}


\subsection{Типы данных}

Микропроцессор аппаратно поддерживает следующие основные типы данных, представленные
на рисунке~\ref{fig:sizes}:

\begin{itemize}
  \item байт --- восемь последовательно расположенных битов;
  \item слово --- два байта, имеющих последовательные адреса;
  \item двойное слово --- четыре байта, расположенные последовательно;
  \item учетверенное слово --- восемь байт, расположенные последовательно.
\end{itemize}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=150mm]{pic/sizes}
  \caption{Основные типы данных микропроцессора}\label{fig:sizes}
\end{figure}


\subsection{Структура программы}

Программа на языке ассемблер состоит из строк, содержащих следующие поля:
\textit{метка: команда/директива операнды ;комментарий}.
Все эти поля в отдельных случаях необязательны.

Текст от символа <<;>> транслятором не анализируется и используется
в качестве комментария.

В машинную команду микропроцессора явно или неявно входят следующие элементы:

\begin{itemize}
  \item поле префиксов --- элемент команды, который уточняет либо модифицирует действие этой
    команды;
  \item поле кода операции, определяющее действие данной команды;
  \item поле операндов --- содержит от нуля до трех элементов.
\end{itemize}

Важной особенностью машинных команд является то, что они не могут манипулировать
одновременно двумя операндами, находящимися в оперативной памяти. По этой причине
возможны только следующие сочетания операндов в команде:
регистр-регистр,
регистр-память,
память-регистр,
регистр-непосредственный операнд,
память-непосредственный операнд.
Из перечисленных сочетаний операндов наиболее часто употребляются регистр-память и
память-регистр.


\subsection{Директивы распределения памяти}

Определение переменных (выделение памяти для переменных в коде программы) в общем
виде записывается следующим образом: \textit{name d* value},
где $ d* $ --- одна из псевдокоманд:
\begin{itemize}
  \item $ db $ --- определить байт;
  \item $ dw $ --- определить слово (два байта);
  \item $ dd $ --- определить двойное слово (четыре байта);
  \item $ df $ или $ dp $ --- определить шесть байт (дальний указатель);
  \item $ dq $ --- определить учетверенное слово (восемь байт);
  \item $ dt $ --- определить десять байт.
\end{itemize}
